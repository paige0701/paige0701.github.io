<!DOCTYPE html>
<html lang="en">

  <head>

    <!-- Non social metatags -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="theme-color" content="#157878">

    

    <title>Services &amp; Injectables in Angular</title>

    
      <!-- Update your html tag to include the itemscope and itemtype attributes. -->
<html itemscope itemtype="http://schema.org/Article">












<!-- Place this data between the <head> tags of your website -->

  <meta name="author" content="Paige Choi">

<meta name="description" content="So continuing on from the post “How components communicate with each other in Angular.”, services are a great way to transfer or communicate data amo..." />





<!-- Schema.org markup for Google+ -->
<meta itemprop="name" content="Services &amp; Injectables in Angular">
<meta itemprop="description" content="So continuing on from the post “How components communicate with each other in Angular.”, services are a great way to transfer or communicate data amo...">

  <meta itemprop="image" content="http://localhost:4000/thumbnail-jumbo.png">


<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">



<meta name="twitter:title" content="Services &amp; Injectables in Angular">
<meta name="twitter:description" content="So continuing on from the post “How components communicate with each other in Angular.”, services are a great way to transfer or communicate data amo...">



<!-- Twitter summary card with large image must be at least 280x150px -->

  <meta name="twitter:image:src" content="http://localhost:4000/thumbnail-jumbo.png">
  <meta property="twitter:image" content="http://localhost:4000/thumbnail-jumbo.png">

<meta property="twitter:url" content="http://localhost:4000/angular/2018/02/20/what-is-service.html">

<!-- Open Graph data -->
<meta property="og:title" content="Services &amp; Injectables in Angular" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:4000/angular/2018/02/20/what-is-service.html" />

  <meta property="og:image" content="http://localhost:4000/thumbnail-jumbo.png" />

<meta property="og:description" content="So continuing on from the post “How components communicate with each other in Angular.”, services are a great way to transfer or communicate data amo..." />
<meta property="og:site_name" content="Tech page" />

  <meta property="article:published_time" content="2018-02-20T00:00:00+09:00" />














  





  
    <meta property="article:tag" content="angular">
  




    

    <link rel="canonical" href="http://localhost:4000/angular/2018/02/20/what-is-service.html">

    

    <link rel="shortcut icon" href="http://localhost:4000/favicon.ico">
    <meta name="robots" content="noarchive">

    <!-- <link rel="alternate" media="only screen and (max-width: 640px)" href="">
    <link rel="alternate" media="handheld" href=""> -->


    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/css/style.css?v=">
  </head>
  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    

    
      <a class="site-title" href="/">Home</a>
    

    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
              
              
            
          
            
            
              
                <a class="page-link" href="/about">About me</a>
              
            
          
            
            
              
                <a class="page-link" href="/contact.html">Contact</a>
              
            
          
            
            
          
            
            
          
        </div>
      </nav>
    
  </div>
</header>


    
    
    

    <section class="page-header">
      <h1 class="project-name">Services &amp; Injectables in Angular</h1>
      <h2 class="project-tagline"></h2>
      
      <!-- Post tagline -->
      
        <h2 class="project-date">
        <time datetime="2018-02-20T00:00:00+09:00" itemprop="datePublished">
          
          Feb 20, 2018
        </time>
        
        
          • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Paige Choi</span></span>
        
        </h2>
      
      <!-- End: Post tagline -->
    </section>

    <section class="main-content">

      <article itemscope itemtype="http://schema.org/BlogPosting">

  <!-- <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Services &amp; Injectables in Angular</h1>
    <p class="post-meta">
      <time datetime="2018-02-20T00:00:00+09:00" itemprop="datePublished">
        
        Feb 20, 2018
      </time>
      </p>
  </header> -->

  <div itemprop="articleBody">
    <p>So continuing on from the post “How components communicate with each other in Angular.”,
services are a great way to transfer or communicate data among components that do not know each other.</p>

<p>“How components communicate with each other in Angular.” 에서 마지막인 5번째 방법은 여기서 이어서 쓰려고 한다.
서비스는 서로 연결되어 있는 않은 컴포넌트끼리 통신하기 좋은 방법 중 하나이다.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">// generally services look like this.</span>
<span class="c1">// 서비스는 이렇게 생겼다.</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Injectable</span> <span class="p">}</span> <span class="k">from</span> <span class="s1">'@angular/core'</span><span class="p">;</span>


<span class="cm">/** @Injector() annotation tells angular that AnimalService might get Injected in some component.
But if you want to inject AnimalService into a component, you must first provide it. */</span>
<span class="cm">/** @Injector()라는 것을 서비스 위에 써줌으로써 앵규러에게 어떤 컴포넌트에 주입해서 사용할 수 있게 하는 것이다. 
컴포넌트에 주입하기 이전에 먼저 provide를 해야 사용할 수 있다. */</span>
<span class="p">@</span><span class="nd">Injectable</span><span class="p">()</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">AnimalService</span> <span class="p">{</span>

	<span class="kr">public</span> <span class="nx">name</span> <span class="p">:</span> <span class="nx">string</span> <span class="o">=</span> <span class="s1">'Paige'</span><span class="p">;</span>

	<span class="kr">public</span> <span class="nx">getName</span> <span class="p">(</span><span class="nx">name</span> <span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">return</span> <span class="s2">`My name is {name}`</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>

	<span class="p">}</span>
<span class="p">}</span>


</code></pre></div></div>

<blockquote>
  <p>You can provide a service in a module or in a component.
Module 이나 component 안에다가 provide를 선언할 수 있다.</p>
</blockquote>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// in module animal.module.ts</span>
<span class="p">@</span><span class="nd">NgModule</span><span class="p">({</span>

	<span class="na">providers</span> <span class="p">:</span> <span class="p">[</span><span class="nx">AnimalService</span><span class="p">]</span> <span class="c1">// provide in module // module 안에서 provider 설정</span>
	<span class="na">declarations</span><span class="p">:</span> <span class="p">[</span> <span class="nx">RabbitComponent</span><span class="p">,</span> <span class="nx">TigerComponent</span> <span class="p">],</span> <span class="c1">// Components in Animal Module</span>

<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">AnimalModule</span><span class="p">{</span>

<span class="p">}</span>

<span class="c1">// in component rabbit.component.ts</span>
<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
	<span class="na">selector</span> <span class="p">:</span> <span class="s1">'app-rabbit'</span><span class="p">,</span>
	<span class="na">template</span> <span class="p">:</span> <span class="s2">``</span><span class="p">,</span>
	<span class="na">providers</span> <span class="p">:</span> <span class="p">[</span><span class="nx">AnimalService</span><span class="p">]</span> <span class="c1">// provide in component // component안에서 provider 설정</span>

<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">RabbitComponent</span> <span class="p">{</span>


<span class="p">}</span>

</code></pre></div></div>

<p>Difference between providing a service in module and component is the the area or the scope the service covers.
If you provide the AnimalService in the module, you can share the service among all the components inside the AnimalModule.
If you provide it in the RabitComponent, the service is only available in the RabbitComponent and its child components.
When you have provided the service, you are ready to inject it into a component.</p>

<p>Service를 component 안에 provide하는 것과 module안에서 provide하는 것은 차이가 있다.
서비스를 어디까지 사용할 수 있냐가 어디에 provide하느냐에 따라서 달라진다.
AnimalModule은 RabbitComponent와 TigerComponent를 둘 다 갖고 있다. AnimalModule안 declaration에
RabbitModule, TigerModule을 넣었다. 그러니 이 두 개에서 AnimalService를 쓰고 싶으면 AnimalModule에 넣어서 사용하면 된다.
하지만 RabbitComponent에서만 AnimalService를 사용하고 싶으면 RabbitComponent에 추가하면 된다. 
그러면 RabbitComponent 와 RabbitComponent의 자식 component까지만 AnimalService에 접근 가능하다.
TigerComponent는 AnimalService사용 불가이다.</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// rabbit.component.ts</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">AnimalService</span> <span class="p">}</span> <span class="k">from</span> <span class="o">~</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
	<span class="na">selector</span> <span class="p">:</span> <span class="s1">'app-rabbit'</span>
	<span class="na">template</span> <span class="p">:</span> <span class="s2">`&lt;h3&gt;Name  =  { { nameFromService } }&lt;/h3&gt;
	&lt;div (click) = "changeName('Jenny')" &gt;&lt;/div&gt;`</span> 
<span class="p">})</span>		
<span class="k">export</span> <span class="kd">class</span> <span class="nx">RabbitComponent</span> <span class="p">{</span>


	<span class="kr">public</span> <span class="nx">nameFromService</span> <span class="p">:</span> <span class="nx">string</span><span class="p">;</span>

	<span class="c1">// 서비스는 생성자를 통해서 component에 주입한다. 그러면 this.animalService 로 서비스 접근 가능</span>
	<span class="kd">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">animalService</span> <span class="p">:</span> <span class="nx">AnimalService</span><span class="p">)</span> <span class="p">{</span>

		<span class="cm">/**  여기 안에서 만든 변수 nameFromService 에 서비스에서 받아온 이름을 넣고 화면에 nameFromService을 찍으면 Jenny가 찍힌다.*/</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">nameFromService</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">animalService</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span> 
	<span class="p">}</span>


	<span class="cm">/** template안에 div 를 클릭하면 아래 method를 타게 되어있다. 
	이름을 Jenny로 바꾸면 서비스 안에 있는 name의 값은 Paige에서 Jenny로 바뀐다. */</span>
	<span class="kr">public</span> <span class="nx">changeName</span><span class="p">(</span><span class="nx">name</span> <span class="p">:</span> <span class="nx">string</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">animalService</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
	<span class="p">}</span>

<span class="p">}</span>

</code></pre></div></div>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// tiger.component.ts</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">AnimalService</span> <span class="p">}</span> <span class="k">from</span> <span class="o">~</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
	<span class="na">selector</span> <span class="p">:</span> <span class="s1">'app-tiger'</span><span class="p">,</span>
	<span class="na">template</span> <span class="p">:</span> <span class="s2">``</span>

<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nx">TigerComponent</span> <span class="kr">implements</span> <span class="nx">OnInit</span> <span class="p">{</span>

	<span class="kd">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">animalService</span> <span class="p">:</span> <span class="nx">AnimalService</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Inject animal service</span>

	<span class="p">}</span>

	<span class="nx">ngOnInit</span><span class="p">()</span> <span class="p">{</span>

		<span class="c1">// My name is Paige </span>
		<span class="c1">// 서비스에 있는 메소드 호출</span>
		<span class="nx">console</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">animalService</span><span class="p">.</span><span class="nx">getName</span><span class="p">(</span><span class="s1">'Paige'</span><span class="p">));</span>  


		<span class="nx">console</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">animalService</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span> <span class="c1">// Jenny </span>
		<span class="cm">/** if rabbitComponent has been executed before this component. 
		name from AnimalService has been change from Paige to Jenny  */</span>

		<span class="cm">/** 현재 컴포넌트가 RabbitComponent 보다 후에 열린다면 this.animalService.name은
		Paige가 아닌 Jenny로 바뀌었을 것이다. RabbitComponent에서 이름을 바꿨기 때문에 !  */</span>

	<span class="p">}</span>

<span class="p">}</span>


</code></pre></div></div>

<p>There are some drawbacks to using service.
We don’t know when the value has changed.
This is because we are not firing an event when the value is changed.
Also, you must init the value if you are finished with it. Or else the service keeps the value forever.</p>

<p>서비스를 이용해서 데이터를 컴포넌끼리 공유할 때 문제점도 있다.
값이 변경되는 시점을 알 수 없고 초기화 시키지 않으면 그 값은 계속 유지되기 때문에 조심해야 한다.</p>


  </div>

  
</article>


      <footer class="site-footer">
        <!-- SVG icons from https://iconmonstr.com -->

        <!-- Github icon -->
        <span class="my-span-icon">
          <a href="" aria-label="'s GitHub" title="'s GitHub">
            <svg class="my-svg-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
          </a>
        </span>

        <!-- Twitter icon -->
        <!-- <span class="my-span-icon">
          <a href="https://twitter.com/" aria-label="'s Twitter" title="'s Twitter">
            <svg class="my-svg-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"/></svg>
          </a>
        </span>
 -->
        <!-- RSS icon -->
        
        <!-- Contact icon -->
        
        
          <span class="my-span-icon">
            <a href="/about" aria-label="Contact" title="Contact ">
              <svg class="my-svg-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 .02c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.99 6.98l-6.99 5.666-6.991-5.666h13.981zm.01 10h-14v-8.505l7 5.673 7-5.672v8.504z"/></svg>
            </a>
          </span>
        

      </footer>
    </section>

    
  </body>
</html>
